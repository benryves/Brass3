<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<title>List file for Emerson.asm (01/10/2007 7:20:49pm)</title>
</head>
<body>
<style>
h1, h2, h3, h4, p { font-family: trebuchet ms, verdana, tahoma, sans serif; text-align: center; }
#asmout, #ascii { border-collapse: collapse; border: 1px solid black; margin-left: auto; margin-right: auto; }
#asmout td, #asmout th, #ascii td, #ascii th { vertical-align: top; padding: 3px; margin: 0px; border-left: 1px solid #333333; border-right: 1px solid #333333; font-family: consolas, lucida console, courier new, monospace; font-size: 10pt; }
*.r0 { background-color: #DDDDDD; }
*.r1 { background-color: #CCCCCC; }
#asmout td.f { background-color: #9999FF; text-align: center; border: 1px solid #333333; }
#asmout td.p { background-color: #99FF99; text-align: center; border: 1px solid #333333; }
#asmout td.j { background-color: #FF9999; text-align: center; border: 1px solid #333333; }
#asmout td.l { background-color: #CCCCFF; text-align: center; border: 1px solid #333333; }
#asmout td.c { text-align: center; }
#asmout th, #ascii th { font-weight: bold; text-align: center; background-color: black; color: white;}
#ascii td { text-align: center; width: 24px; } #unused { color: #999999; }
</style>
<h1>General Information</h1>
<table id="asmout">
<th>Field</th><th>Value</th>
<tr class="r0"><td>Brass Version</td><td>1.0.4.11</td></tr>
<tr class="r1"><td>Source File</td><td>D:\Documents\Documents\Visual Studio 2005\Projects\!Old\Brass\Brass\bin\Test\Emerson.asm</td></tr>
<tr class="r0"><td>Total Source Files</td><td>9</td></tr>
<tr class="r1"><td>Page Count</td><td>1</td></tr>
</table>
<h1>Output</h1>
<table id="asmout">
<tr><th>Address</th><th>Output</th><th>Source</th></tr>
<tr><td class="f" colspan="4">D:\Documents\Documents\Visual Studio 2005\Projects\!Old\Brass\Brass\bin\Test\Emerson.asm</td></tr>
<tr><td class="p" colspan="4">Page 0</td></tr>
<tr class="r0"><td class="c">9D93</td><td>BB</td><td>.db $BB,$6D</td></tr>
<tr class="r1"><td class="c">9D94</td><td>6D</td><td>.db $BB,$6D</td></tr>
<tr class="r0"><td class="c">9D95</td><td>C9</td><td>&#9;ret</td></tr>
<tr class="r1"><td class="c">9D96</td><td>30&nbsp;08</td><td>&#9;jr nc,init_all</td></tr>
<tr class="r0"><td class="c">9D98</td><td>45&nbsp;6D&nbsp;65&nbsp;72&nbsp;73&nbsp;6F&nbsp;6E&nbsp;00</td><td>.db &quot;Emerson&quot;,0</td></tr>
<tr><td class="l" colspan="4">init_all</td></tr>
<tr class="r1"><td class="c">9DA0</td><td>FD&nbsp;CB&nbsp;0D&nbsp;D6</td><td>&#9;set appAutoScroll,(iy+appFlags)</td></tr>
<tr class="r0"><td class="c">9DA4</td><td>3E&nbsp;0A</td><td>&#9;ld a,10</td></tr>
<tr class="r1"><td class="c">9DA6</td><td>CD&nbsp;DD&nbsp;9E</td><td>&#9;call keyi_load_table</td></tr>
<tr class="r0"><td class="c">9DA9</td><td>28&nbsp;31</td><td>&#9;jr z,_loaded_table</td></tr>
<tr class="r1"><td class="c">9DAB</td><td>EF&nbsp;40&nbsp;45</td><td>&#9; RST 28h\ .dw TI._clrLCDFull</td></tr>
<tr class="r0"><td class="c">9DAE</td><td>EF&nbsp;58&nbsp;45</td><td>&#9; RST 28h\ .dw TI._homeUp</td></tr>
<tr class="r1"><td class="c">9DB1</td><td>21&nbsp;BB&nbsp;9D</td><td>&#9;ld hl,_no_table_string</td></tr>
<tr class="r0"><td class="c">9DB4</td><td>EF&nbsp;0A&nbsp;45</td><td>&#9; RST 28h\ .dw TI._putS</td></tr>
<tr><td class="l" colspan="4">noname._no_table_found</td></tr>
<tr class="r1"><td class="c">9DB7</td><td>B7</td><td>&#9;or a</td></tr>
<tr class="r0"><td class="c">9DB8</td><td>28&nbsp;FD</td><td>&#9;jr z,_no_table_found</td></tr>
<tr class="r1"><td class="c">9DBA</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">noname._no_table_string</td></tr>
<tr class="r0"><td class="c">9DBB</td><td>4B&nbsp;65&nbsp;79&nbsp;62&nbsp;6F&nbsp;61&nbsp;72&nbsp;64&nbsp;<br />20&nbsp;6C&nbsp;61&nbsp;79&nbsp;6F&nbsp;75&nbsp;74&nbsp;20</td><td>&#9;.db &quot;Keyboard layout &quot;</td></tr>
<tr class="r1"><td class="c">9DCB</td><td>74&nbsp;61&nbsp;62&nbsp;6C&nbsp;65&nbsp;20&nbsp;6E&nbsp;6F&nbsp;<br />74&nbsp;20&nbsp;66&nbsp;6F&nbsp;75&nbsp;6E&nbsp;64&nbsp;2E&nbsp;<br />00</td><td>&#9;.db &quot;table not found.&quot;,0</td></tr>
<tr><td class="l" colspan="4">noname._loaded_table</td></tr>
<tr class="r0"><td class="c">9DDC</td><td>3E&nbsp;FF</td><td>&#9;ld a,at_cmd_reset</td></tr>
<tr class="r1"><td class="c">9DDE</td><td>CD&nbsp;E1&nbsp;9F</td><td>&#9;call at_send_byte</td></tr>
<tr class="r0"><td class="c">9DE1</td><td>EF&nbsp;58&nbsp;45</td><td>&#9; RST 28h\ .dw TI._homeUp</td></tr>
<tr class="r1"><td class="c">9DE4</td><td>21&nbsp;06&nbsp;9E</td><td>&#9;ld hl,key_down</td></tr>
<tr class="r0"><td class="c">9DE7</td><td>CD&nbsp;74&nbsp;A1</td><td>&#9;call keyb_set_keydown</td></tr>
<tr><td class="l" colspan="4">main_loop</td></tr>
<tr class="r1"><td class="c">9DEA</td><td>CD&nbsp;2F&nbsp;A0</td><td>&#9;call keyb_update</td></tr>
<tr class="r0"><td class="c">9DED</td><td>CD&nbsp;74&nbsp;9F</td><td>&#9;call keyi_get_status_icon</td></tr>
<tr class="r1"><td class="c">9DF0</td><td>EF&nbsp;01&nbsp;45</td><td>&#9; RST 28h\ .dw TI._putMap</td></tr>
<tr class="r0"><td class="c">9DF3</td><td>3E&nbsp;FF</td><td>&#9;ld a,$FF</td></tr>
<tr class="r1"><td class="c">9DF5</td><td>D3&nbsp;01</td><td>&#9;out (1),a</td></tr>
<tr class="r0"><td class="c">9DF7</td><td>3E&nbsp;FD</td><td>&#9;ld a,KeyRow_5</td></tr>
<tr class="r1"><td class="c">9DF9</td><td>D3&nbsp;01</td><td>&#9;out (1),a</td></tr>
<tr class="r0"><td class="c">9DFB</td><td>DB&nbsp;01</td><td>&#9;in a,(1)</td></tr>
<tr class="r1"><td class="c">9DFD</td><td>FE&nbsp;BF</td><td>&#9;cp dkClear</td></tr>
<tr class="r0"><td class="c">9DFF</td><td>C8</td><td>&#9;ret z</td></tr>
<tr class="r1"><td class="c">9E00</td><td>FE&nbsp;FE</td><td>&#9;cp dKEnter</td></tr>
<tr class="r0"><td class="c">9E02</td><td>20&nbsp;E6</td><td>&#9;jr nz,main_loop</td></tr>
<tr class="r1"><td class="c">9E04</td><td>18&nbsp;E4</td><td>&#9;jr main_loop</td></tr>
<tr><td class="l" colspan="4">key_down</td></tr>
<tr class="r0"><td class="c">9E06</td><td>CD&nbsp;F3&nbsp;9E</td><td>&#9;call keyi_translate</td></tr>
<tr class="r1"><td class="c">9E09</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="f" colspan="4">D:\Documents\Documents\Visual Studio 2005\Projects\!Old\Brass\Brass\bin\Test\GetString.asm</td></tr>
<tr><td class="l" colspan="4">TextBox._get_string</td></tr>
<tr class="r0"><td class="c">9E0A</td><td>22&nbsp;52&nbsp;9E</td><td>&#9;ld (_cursor_pos),hl</td></tr>
<tr class="r1"><td class="c">9E0D</td><td>22&nbsp;54&nbsp;9E</td><td>&#9;ld (_string_pos),hl</td></tr>
<tr class="r0"><td class="c">9E10</td><td>22&nbsp;5C&nbsp;9E</td><td>&#9;ld (_root_cur),hl</td></tr>
<tr class="r1"><td class="c">9E13</td><td>09</td><td>&#9;add hl,bc</td></tr>
<tr class="r0"><td class="c">9E14</td><td>22&nbsp;56&nbsp;9E</td><td>&#9;ld (_string_end),hl</td></tr>
<tr class="r1"><td class="c">9E17</td><td>21&nbsp;00&nbsp;00</td><td>&#9;ld hl,0</td></tr>
<tr class="r0"><td class="c">9E1A</td><td>22&nbsp;58&nbsp;9E</td><td>&#9;ld (_string_len),hl</td></tr>
<tr class="r1"><td class="c">9E1D</td><td>22&nbsp;5A&nbsp;9E</td><td>&#9;ld (_scroll),hl</td></tr>
<tr class="r0"><td class="c">9E20</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">TextBox._update</td></tr>
<tr class="r1"><td class="c">9E21</td><td>3A&nbsp;50&nbsp;9E</td><td>&#9;ld a,(_top)</td></tr>
<tr class="r0"><td class="c">9E24</td><td>32&nbsp;4B&nbsp;84</td><td>&#9;ld (curRow),a</td></tr>
<tr class="r1"><td class="c">9E27</td><td>3A&nbsp;4E&nbsp;9E</td><td>&#9;ld a,(_left)</td></tr>
<tr class="r0"><td class="c">9E2A</td><td>32&nbsp;4C&nbsp;84</td><td>&#9;ld (curCol),a</td></tr>
<tr class="r1"><td class="c">9E2D</td><td>ED&nbsp;4B&nbsp;58&nbsp;9E</td><td>&#9;ld bc,(_string_len)</td></tr>
<tr class="r0"><td class="c">9E31</td><td>78</td><td>&#9;ld a,b</td></tr>
<tr class="r1"><td class="c">9E32</td><td>B1</td><td>&#9;or c</td></tr>
<tr class="r0"><td class="c">9E33</td><td>C8</td><td>&#9;ret z&#9;</td></tr>
<tr class="r1"><td class="c">9E34</td><td>2A&nbsp;5C&nbsp;9E</td><td>&#9;ld hl,(_root_cur)</td></tr>
<tr class="r0"><td class="c">9E37</td><td>7E</td><td>&#9;ld a,(hl)</td></tr>
<tr class="r1"><td class="c">9E38</td><td>FE&nbsp;20</td><td>&#9;cp 32</td></tr>
<tr class="r0"><td class="c">9E3A</td><td>D2&nbsp;D2&nbsp;9E</td><td>&#9;jp nc,_is_not_control_code</td></tr>
<tr class="r1"><td class="c">9E3D</td><td>FE&nbsp;0A</td><td>&#9;cp $0A</td></tr>
<tr class="r0"><td class="c">9E3F</td><td>20&nbsp;0D</td><td>&#9;jr nz,_not_lf</td></tr>
<tr class="r1"><td class="c">9E41</td><td>3A&nbsp;4E&nbsp;9E</td><td>&#9;ld a,(_left)</td></tr>
<tr class="r0"><td class="c">9E44</td><td>32&nbsp;4C&nbsp;84</td><td>&#9;ld (curCol),a</td></tr>
<tr class="r1"><td class="c">9E47</td><td>3A&nbsp;4B&nbsp;84</td><td>&#9;ld a,(curRow)</td></tr>
<tr class="r0"><td class="c">9E4A</td><td>3C</td><td>&#9;inc a</td></tr>
<tr class="r1"><td class="c">9E4B</td><td>3E&nbsp;00</td><td>&#9;ld a,0</td></tr>
<tr class="r0"><td class="c">9E4D</td><td>C5</td><td>&#9;push bc</td></tr>
<tr><td class="l" colspan="4">TextBox._not_lf</td></tr>
<tr><td class="l" colspan="4">TextBox._left</td></tr>
<tr class="r1"><td class="c">9E4E</td><td>00</td><td>_left:&#9;&#9;.db 0&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._right</td></tr>
<tr class="r0"><td class="c">9E4F</td><td>0F</td><td>_right:&#9;.db 15&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._top</td></tr>
<tr class="r1"><td class="c">9E50</td><td>00</td><td>_top:&#9;&#9;.db 0&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._bottom</td></tr>
<tr class="r0"><td class="c">9E51</td><td>07</td><td>_bottom:&#9;.db 7&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._cursor_pos</td></tr>
<tr class="r1"><td class="c">9E52</td><td>00&nbsp;00</td><td>_cursor_pos:&#9;.dw 0&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._string_pos</td></tr>
<tr class="r0"><td class="c">9E54</td><td>00&nbsp;00</td><td>_string_pos:&#9;.dw 0&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._string_end</td></tr>
<tr class="r1"><td class="c">9E56</td><td>00&nbsp;00</td><td>_string_end:&#9;.dw 0&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._string_len</td></tr>
<tr class="r0"><td class="c">9E58</td><td>00&nbsp;00</td><td>_string_len:&#9;.dw 0&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._scroll</td></tr>
<tr class="r1"><td class="c">9E5A</td><td>00&nbsp;00</td><td>_scroll:&#9;.dw 0&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._root_cur</td></tr>
<tr class="r0"><td class="c">9E5C</td><td>00&nbsp;00</td><td>_root_cur:&#9;.dw 0&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._putmap</td></tr>
<tr class="r1"><td class="c">9E5E</td><td>FE&nbsp;FF</td><td>&#9;cp $FF</td></tr>
<tr class="r0"><td class="c">9E60</td><td>C8</td><td>&#9;ret z</td></tr>
<tr class="r1"><td class="c">9E61</td><td>F5</td><td>&#9;push af</td></tr>
<tr class="r0"><td class="c">9E62</td><td>3E&nbsp;20</td><td>&#9;ld a,' '</td></tr>
<tr class="r1"><td class="c">9E64</td><td>EF&nbsp;01&nbsp;45</td><td>&#9; RST 28h\ .dw TI._putMap</td></tr>
<tr class="r0"><td class="c">9E67</td><td>F1</td><td>&#9;pop af</td></tr>
<tr class="r1"><td class="c">9E68</td><td>FE&nbsp;20</td><td>&#9;cp 32</td></tr>
<tr class="r0"><td class="c">9E6A</td><td>30&nbsp;66</td><td>&#9;jr nc,_is_not_control_code</td></tr>
<tr class="r1"><td class="c">9E6C</td><td>FE&nbsp;07</td><td>&#9;cp $07&#9;</td></tr>
<tr class="r0"><td class="c">9E6E</td><td>20&nbsp;01</td><td>&#9;jr nz,_not_bell</td></tr>
<tr class="r1"><td class="c">9E70</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">TextBox._not_bell</td></tr>
<tr class="r0"><td class="c">9E71</td><td>FE&nbsp;08</td><td>&#9;cp $08&#9;</td></tr>
<tr class="r1"><td class="c">9E73</td><td>20&nbsp;1D</td><td>&#9;jr nz,_not_backspace</td></tr>
<tr class="r0"><td class="c">9E75</td><td>3A&nbsp;4C&nbsp;84</td><td>&#9;ld a,(curCol)</td></tr>
<tr class="r1"><td class="c">9E78</td><td>3D</td><td>&#9;dec a</td></tr>
<tr class="r0"><td class="c">9E79</td><td>FE&nbsp;FF</td><td>&#9;cp -1</td></tr>
<tr class="r1"><td class="c">9E7B</td><td>20&nbsp;0C</td><td>&#9;jr nz,_not_bs_off_left</td></tr>
<tr class="r0"><td class="c">9E7D</td><td>3A&nbsp;4B&nbsp;84</td><td>&#9;ld a,(curRow)</td></tr>
<tr class="r1"><td class="c">9E80</td><td>3D</td><td>&#9;dec a</td></tr>
<tr class="r0"><td class="c">9E81</td><td>FE&nbsp;FF</td><td>&#9;cp -1</td></tr>
<tr class="r1"><td class="c">9E83</td><td>C8</td><td>&#9;ret z</td></tr>
<tr class="r0"><td class="c">9E84</td><td>32&nbsp;4B&nbsp;84</td><td>&#9;ld (curRow),a</td></tr>
<tr class="r1"><td class="c">9E87</td><td>3E&nbsp;0F</td><td>&#9;ld a,15</td></tr>
<tr><td class="l" colspan="4">TextBox._not_bs_off_left</td></tr>
<tr class="r0"><td class="c">9E89</td><td>32&nbsp;4C&nbsp;84</td><td>&#9;ld (curCol),a</td></tr>
<tr class="r1"><td class="c">9E8C</td><td>3E&nbsp;20</td><td>&#9;ld a,' '</td></tr>
<tr class="r0"><td class="c">9E8E</td><td>EF&nbsp;01&nbsp;45</td><td>&#9; RST 28h\ .dw TI._putMap</td></tr>
<tr class="r1"><td class="c">9E91</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">TextBox._not_backspace</td></tr>
<tr class="r0"><td class="c">9E92</td><td>FE&nbsp;09</td><td>&#9;cp $09&#9;</td></tr>
<tr class="r1"><td class="c">9E94</td><td>20&nbsp;18</td><td>&#9;jr nz,_not_tab</td></tr>
<tr class="r0"><td class="c">9E96</td><td>3E&nbsp;20</td><td>&#9;ld a,' '</td></tr>
<tr class="r1"><td class="c">9E98</td><td>EF&nbsp;01&nbsp;45</td><td>&#9; RST 28h\ .dw TI._putMap</td></tr>
<tr class="r0"><td class="c">9E9B</td><td>3A&nbsp;4C&nbsp;84</td><td>&#9;ld a,(curCol)</td></tr>
<tr class="r1"><td class="c">9E9E</td><td>C6&nbsp;04</td><td>&#9;add a,4</td></tr>
<tr class="r0"><td class="c">9EA0</td><td>E6&nbsp;FC</td><td>&#9;and %11111100</td></tr>
<tr class="r1"><td class="c">9EA2</td><td>FE&nbsp;0F</td><td>&#9;cp 15</td></tr>
<tr class="r0"><td class="c">9EA4</td><td>38&nbsp;04</td><td>&#9;jr c,_not_tabbed_off_right</td></tr>
<tr class="r1"><td class="c">9EA6</td><td>EF&nbsp;2E&nbsp;45</td><td>&#9; RST 28h\ .dw TI._newLine</td></tr>
<tr class="r0"><td class="c">9EA9</td><td>AF</td><td>&#9;xor a</td></tr>
<tr><td class="l" colspan="4">TextBox._not_tabbed_off_right</td></tr>
<tr class="r1"><td class="c">9EAA</td><td>32&nbsp;4C&nbsp;84</td><td>&#9;ld (curCol),a</td></tr>
<tr class="r0"><td class="c">9EAD</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">TextBox._not_tab</td></tr>
<tr class="r1"><td class="c">9EAE</td><td>FE&nbsp;0A</td><td>&#9;cp $0A&#9;</td></tr>
<tr class="r0"><td class="c">9EB0</td><td>20&nbsp;04</td><td>&#9;jr nz,_not_linefeed</td></tr>
<tr class="r1"><td class="c">9EB2</td><td>EF&nbsp;2E&nbsp;45</td><td>&#9; RST 28h\ .dw TI._newLine</td></tr>
<tr class="r0"><td class="c">9EB5</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">TextBox._not_linefeed</td></tr>
<tr class="r1"><td class="c">9EB6</td><td>FE&nbsp;0D</td><td>&#9;cp $0D&#9;</td></tr>
<tr class="r0"><td class="c">9EB8</td><td>20&nbsp;05</td><td>&#9;jr nz,_not_carriage_return</td></tr>
<tr class="r1"><td class="c">9EBA</td><td>AF</td><td>&#9;xor a</td></tr>
<tr class="r0"><td class="c">9EBB</td><td>32&nbsp;4C&nbsp;84</td><td>&#9;ld (curCol),a</td></tr>
<tr class="r1"><td class="c">9EBE</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">TextBox._not_carriage_return</td></tr>
<tr class="r0"><td class="c">9EBF</td><td>C6&nbsp;40</td><td>&#9;add a,'@'</td></tr>
<tr class="r1"><td class="c">9EC1</td><td>F5</td><td>&#9;push af</td></tr>
<tr class="r0"><td class="c">9EC2</td><td>3E&nbsp;5E</td><td>&#9;ld a,'^'</td></tr>
<tr class="r1"><td class="c">9EC4</td><td>EF&nbsp;04&nbsp;45</td><td>&#9; RST 28h\ .dw TI._putC</td></tr>
<tr class="r0"><td class="c">9EC7</td><td>F1</td><td>&#9;pop af</td></tr>
<tr class="r1"><td class="c">9EC8</td><td>FE&nbsp;5B</td><td>&#9;cp '['</td></tr>
<tr class="r0"><td class="c">9ECA</td><td>20&nbsp;02</td><td>&#9;jr nz,_not_thetatime</td></tr>
<tr class="r1"><td class="c">9ECC</td><td>3E&nbsp;C1</td><td>&#9;ld a,$C1</td></tr>
<tr><td class="l" colspan="4">TextBox._not_thetatime</td></tr>
<tr class="r0"><td class="c">9ECE</td><td>EF&nbsp;04&nbsp;45</td><td>&#9; RST 28h\ .dw TI._putC</td></tr>
<tr class="r1"><td class="c">9ED1</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">TextBox._is_not_control_code</td></tr>
<tr class="r0"><td class="c">9ED2</td><td>FE&nbsp;C1</td><td>&#9;cp $C1&#9;&#9;&#9;</td></tr>
<tr class="r1"><td class="c">9ED4</td><td>28&nbsp;03</td><td>&#9;jr z,_dont_ignore_me&#9;</td></tr>
<tr class="r0"><td class="c">9ED6</td><td>CB&nbsp;7F</td><td>&#9;bit 7,a</td></tr>
<tr class="r1"><td class="c">9ED8</td><td>C0</td><td>&#9;ret nz&#9;</td></tr>
<tr><td class="l" colspan="4">TextBox._dont_ignore_me</td></tr>
<tr class="r0"><td class="c">9ED9</td><td>EF&nbsp;04&nbsp;45</td><td>&#9; RST 28h\ .dw TI._putC</td></tr>
<tr class="r1"><td class="c">9EDC</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="f" colspan="4">D:\Documents\Documents\Visual Studio 2005\Projects\!Old\Brass\Brass\bin\Test\key_input.asm</td></tr>
<tr><td class="l" colspan="4">keyi_load_table</td></tr>
<tr class="r0"><td class="c">9EDD</td><td>DD&nbsp;21&nbsp;EF&nbsp;9E</td><td>&#9;ld ix,_table_name</td></tr>
<tr class="r1"><td class="c">9EE1</td><td>2A&nbsp;30&nbsp;98</td><td>&#9;ld hl,(progPtr)</td></tr>
<tr class="r0"><td class="c">9EE4</td><td>CD&nbsp;D0&nbsp;96</td><td>&#9;call ionDetect</td></tr>
<tr class="r1"><td class="c">9EE7</td><td>C0</td><td>&#9;ret nz</td></tr>
<tr class="r0"><td class="c">9EE8</td><td>22&nbsp;ED&nbsp;9E</td><td>&#9;ld (_table_location),hl</td></tr>
<tr class="r1"><td class="c">9EEB</td><td>AF</td><td>&#9;xor a</td></tr>
<tr class="r0"><td class="c">9EEC</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._table_location</td></tr>
<tr class="r1"><td class="c">9EED</td><td>00&nbsp;00</td><td>&#9;.dw 0</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._table_name</td></tr>
<tr class="r0"><td class="c">9EEF</td><td>45&nbsp;4D&nbsp;31&nbsp;00</td><td>&#9;.db &quot;EM1&quot;,0</td></tr>
<tr><td class="l" colspan="4">keyi_translate</td></tr>
<tr class="r1"><td class="c">9EF3</td><td>F5</td><td>&#9;push af</td></tr>
<tr class="r0"><td class="c">9EF4</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;ld a,(keyb_status)</td></tr>
<tr class="r1"><td class="c">9EF7</td><td>E6&nbsp;02</td><td>&#9;and at_stat_num</td></tr>
<tr class="r0"><td class="c">9EF9</td><td>28&nbsp;1D</td><td>&#9;jr z,_no_numlock&#9;</td></tr>
<tr class="r1"><td class="c">9EFB</td><td>11&nbsp;D8&nbsp;00</td><td>&#9;ld de,108*2&#9;&#9;</td></tr>
<tr class="r0"><td class="c">9EFE</td><td>2A&nbsp;ED&nbsp;9E</td><td>&#9;ld hl,(_table_location)</td></tr>
<tr class="r1"><td class="c">9F01</td><td>19</td><td>&#9;add hl,de</td></tr>
<tr class="r0"><td class="c">9F02</td><td>5E</td><td>&#9;ld e,(hl)</td></tr>
<tr class="r1"><td class="c">9F03</td><td>16&nbsp;00</td><td>&#9;ld d,0</td></tr>
<tr class="r0"><td class="c">9F05</td><td>23</td><td>&#9;inc hl</td></tr>
<tr class="r1"><td class="c">9F06</td><td>19</td><td>&#9;add hl,de</td></tr>
<tr class="r0"><td class="c">9F07</td><td>4E</td><td>&#9;ld c,(hl)</td></tr>
<tr class="r1"><td class="c">9F08</td><td>06&nbsp;00</td><td>&#9;ld b,0</td></tr>
<tr class="r0"><td class="c">9F0A</td><td>C5</td><td>&#9;push bc</td></tr>
<tr class="r1"><td class="c">9F0B</td><td>D1</td><td>&#9;pop de&#9;&#9;&#9;</td></tr>
<tr class="r0"><td class="c">9F0C</td><td>23</td><td>&#9;inc hl</td></tr>
<tr class="r1"><td class="c">9F0D</td><td>F1</td><td>&#9;pop af&#9;&#9;&#9;</td></tr>
<tr class="r0"><td class="c">9F0E</td><td>F5</td><td>&#9;push af</td></tr>
<tr class="r1"><td class="c">9F0F</td><td>ED&nbsp;B1</td><td>&#9;cpir</td></tr>
<tr class="r0"><td class="c">9F11</td><td>20&nbsp;05</td><td>&#9;jr nz,_no_numlock&#9;</td></tr>
<tr class="r1"><td class="c">9F13</td><td>19</td><td>&#9;add hl,de</td></tr>
<tr class="r0"><td class="c">9F14</td><td>F1</td><td>&#9;pop af&#9;&#9;&#9;</td></tr>
<tr class="r1"><td class="c">9F15</td><td>2B</td><td>&#9;dec hl</td></tr>
<tr class="r0"><td class="c">9F16</td><td>7E</td><td>&#9;ld a,(hl)</td></tr>
<tr class="r1"><td class="c">9F17</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._no_numlock</td></tr>
<tr class="r0"><td class="c">9F18</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;ld a,(keyb_status)</td></tr>
<tr class="r1"><td class="c">9F1B</td><td>47</td><td>&#9;ld b,a</td></tr>
<tr class="r0"><td class="c">9F1C</td><td>E6&nbsp;04</td><td>&#9;and at_stat_caps</td></tr>
<tr class="r1"><td class="c">9F1E</td><td>28&nbsp;17</td><td>&#9;jr z,_not_capslock</td></tr>
<tr class="r0"><td class="c">9F20</td><td>11&nbsp;D8&nbsp;00</td><td>&#9;ld de,108*2&#9;</td></tr>
<tr class="r1"><td class="c">9F23</td><td>2A&nbsp;ED&nbsp;9E</td><td>&#9;ld hl,(_table_location)</td></tr>
<tr class="r0"><td class="c">9F26</td><td>19</td><td>&#9;add hl,de</td></tr>
<tr class="r1"><td class="c">9F27</td><td>4E</td><td>&#9;ld c,(hl)&#9;</td></tr>
<tr class="r0"><td class="c">9F28</td><td>F1</td><td>&#9;pop af&#9;&#9;</td></tr>
<tr class="r1"><td class="c">9F29</td><td>F5</td><td>&#9;push af</td></tr>
<tr class="r0"><td class="c">9F2A</td><td>C5</td><td>&#9;push bc&#9;</td></tr>
<tr class="r1"><td class="c">9F2B</td><td>06&nbsp;00</td><td>&#9;ld b,0</td></tr>
<tr class="r0"><td class="c">9F2D</td><td>23</td><td>&#9;inc hl</td></tr>
<tr class="r1"><td class="c">9F2E</td><td>ED&nbsp;B1</td><td>&#9;cpir&#9;&#9;</td></tr>
<tr class="r0"><td class="c">9F30</td><td>C1</td><td>&#9;pop bc&#9;&#9;</td></tr>
<tr class="r1"><td class="c">9F31</td><td>20&nbsp;04</td><td>&#9;jr nz,_not_capslock</td></tr>
<tr class="r0"><td class="c">9F33</td><td>78</td><td>&#9;ld a,b</td></tr>
<tr class="r1"><td class="c">9F34</td><td>EE&nbsp;08</td><td>&#9;xor at_stat_shift</td></tr>
<tr class="r0"><td class="c">9F36</td><td>47</td><td>&#9;ld b,a</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._not_capslock</td></tr>
<tr class="r1"><td class="c">9F37</td><td>F1</td><td>&#9;pop af</td></tr>
<tr class="r0"><td class="c">9F38</td><td>2A&nbsp;ED&nbsp;9E</td><td>&#9;ld hl,(_table_location)</td></tr>
<tr class="r1"><td class="c">9F3B</td><td>5F</td><td>&#9;ld e,a</td></tr>
<tr class="r0"><td class="c">9F3C</td><td>16&nbsp;00</td><td>&#9;ld d,0</td></tr>
<tr class="r1"><td class="c">9F3E</td><td>19</td><td>&#9;add hl,de</td></tr>
<tr class="r0"><td class="c">9F3F</td><td>2B</td><td>&#9;dec hl</td></tr>
<tr class="r1"><td class="c">9F40</td><td>78</td><td>&#9;ld a,b</td></tr>
<tr class="r0"><td class="c">9F41</td><td>E6&nbsp;08</td><td>&#9;and at_stat_shift</td></tr>
<tr class="r1"><td class="c">9F43</td><td>28&nbsp;04</td><td>&#9;jr z,_not_shifting</td></tr>
<tr class="r0"><td class="c">9F45</td><td>11&nbsp;6C&nbsp;00</td><td>&#9;ld de,108</td></tr>
<tr class="r1"><td class="c">9F48</td><td>19</td><td>&#9;add hl,de</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._not_shifting</td></tr>
<tr class="r0"><td class="c">9F49</td><td>7E</td><td>&#9;ld a,(hl)</td></tr>
<tr class="r1"><td class="c">9F4A</td><td>F5</td><td>&#9;push af</td></tr>
<tr class="r0"><td class="c">9F4B</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;ld a,(keyb_status)</td></tr>
<tr class="r1"><td class="c">9F4E</td><td>E6&nbsp;20</td><td>&#9;and at_stat_ctrl</td></tr>
<tr class="r0"><td class="c">9F50</td><td>20&nbsp;02</td><td>&#9;jr nz,_ctrl_pressed</td></tr>
<tr class="r1"><td class="c">9F52</td><td>F1</td><td>&#9;pop af</td></tr>
<tr class="r0"><td class="c">9F53</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._ctrl_pressed</td></tr>
<tr class="r1"><td class="c">9F54</td><td>F1</td><td>&#9;pop af&#9;</td></tr>
<tr class="r0"><td class="c">9F55</td><td>F5</td><td>&#9;push af</td></tr>
<tr class="r1"><td class="c">9F56</td><td>FE&nbsp;61</td><td>&#9;cp 'a'</td></tr>
<tr class="r0"><td class="c">9F58</td><td>38&nbsp;06</td><td>&#9;jr c,_not_lower</td></tr>
<tr class="r1"><td class="c">9F5A</td><td>FE&nbsp;7B</td><td>&#9;cp 'z'+1</td></tr>
<tr class="r0"><td class="c">9F5C</td><td>30&nbsp;02</td><td>&#9;jr nc,_not_lower</td></tr>
<tr class="r1"><td class="c">9F5E</td><td>C6&nbsp;E0</td><td>&#9;add a,'A'-'a'</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._not_lower</td></tr>
<tr class="r0"><td class="c">9F60</td><td>FE&nbsp;C1</td><td>&#9;cp $C1</td></tr>
<tr class="r1"><td class="c">9F62</td><td>28&nbsp;04</td><td>&#9;jr z,_need_swap</td></tr>
<tr class="r0"><td class="c">9F64</td><td>FE&nbsp;5B</td><td>&#9;cp $5B</td></tr>
<tr class="r1"><td class="c">9F66</td><td>20&nbsp;02</td><td>&#9;jr nz,_no_need_swap</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._need_swap</td></tr>
<tr class="r0"><td class="c">9F68</td><td>EE&nbsp;9A</td><td>&#9;xor $C1^$5B</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._no_need_swap</td></tr>
<tr class="r1"><td class="c">9F6A</td><td>D6&nbsp;40</td><td>&#9;sub '@'</td></tr>
<tr class="r0"><td class="c">9F6C</td><td>FE&nbsp;20</td><td>&#9;cp 32&#9;&#9;</td></tr>
<tr class="r1"><td class="c">9F6E</td><td>38&nbsp;02</td><td>&#9;jr c,_valid_ctrl</td></tr>
<tr class="r0"><td class="c">9F70</td><td>F1</td><td>&#9;pop af&#9;&#9;</td></tr>
<tr class="r1"><td class="c">9F71</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._valid_ctrl</td></tr>
<tr class="r0"><td class="c">9F72</td><td>C1</td><td>&#9;pop bc&#9;</td></tr>
<tr class="r1"><td class="c">9F73</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">keyi_get_status_icon</td></tr>
<tr class="r0"><td class="c">9F74</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;ld a,(keyb_status)</td></tr>
<tr class="r1"><td class="c">9F77</td><td>E6&nbsp;0C</td><td>&#9;and at_stat_shift|at_stat_caps</td></tr>
<tr class="r0"><td class="c">9F79</td><td>21&nbsp;87&nbsp;9F</td><td>&#9;ld hl,_status_icons</td></tr>
<tr class="r1"><td class="c">9F7C</td><td>01&nbsp;04&nbsp;00</td><td>&#9;ld bc,4</td></tr>
<tr class="r0"><td class="c">9F7F</td><td>ED&nbsp;B1</td><td>&#9;cpir</td></tr>
<tr class="r1"><td class="c">9F81</td><td>11&nbsp;5C&nbsp;61</td><td>&#9;ld de,$E3-_status_icons</td></tr>
<tr class="r0"><td class="c">9F84</td><td>19</td><td>&#9;add hl,de</td></tr>
<tr class="r1"><td class="c">9F85</td><td>7D</td><td>&#9;ld a,l</td></tr>
<tr class="r0"><td class="c">9F86</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">KeyboardInput._status_icons</td></tr>
<tr class="r1"><td class="c">9F87</td><td>00</td><td>.db 0</td></tr>
<tr class="r0"><td class="c">9F88</td><td>08</td><td>.db at_stat_shift</td></tr>
<tr class="r1"><td class="c">9F89</td><td>04</td><td>.db at_stat_caps</td></tr>
<tr class="r0"><td class="c">9F8A</td><td>08</td><td>.db at_stat_shift|at_stat_shift</td></tr>
<tr><td class="f" colspan="4">D:\Documents\Documents\Visual Studio 2005\Projects\!Old\Brass\Brass\bin\Test\AT_Prtcl.asm</td></tr>
<tr><td class="l" colspan="4">at_get_byte</td></tr>
<tr class="r1"><td class="c">9F8B</td><td>F3</td><td>&#9;di&#9;</td></tr>
<tr class="r0"><td class="c">9F8C</td><td>AF</td><td>&#9;xor a</td></tr>
<tr class="r1"><td class="c">9F8D</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r0"><td class="c">9F8F</td><td>CD&nbsp;BF&nbsp;9F</td><td>&#9;call _wait_bit_low</td></tr>
<tr class="r1"><td class="c">9F92</td><td>CD&nbsp;D0&nbsp;9F</td><td>&#9;call _wait_bit_high</td></tr>
<tr class="r0"><td class="c">9F95</td><td>0E&nbsp;00</td><td>&#9;ld c,0</td></tr>
<tr class="r1"><td class="c">9F97</td><td>1E&nbsp;08</td><td>&#9;ld e,8</td></tr>
<tr><td class="l" colspan="4">AT_Protocol._get_byte_loop</td></tr>
<tr class="r0"><td class="c">9F99</td><td>CD&nbsp;BF&nbsp;9F</td><td>&#9;call _wait_bit_low</td></tr>
<tr class="r1"><td class="c">9F9C</td><td>DB&nbsp;00</td><td>&#9;in a,(bport)</td></tr>
<tr class="r0"><td class="c">9F9E</td><td>0F</td><td>&#9;rrca</td></tr>
<tr class="r1"><td class="c">9F9F</td><td>0F</td><td>&#9;rrca</td></tr>
<tr class="r0"><td class="c">9FA0</td><td>CB&nbsp;19</td><td>&#9;rr c</td></tr>
<tr class="r1"><td class="c">9FA2</td><td>CD&nbsp;D0&nbsp;9F</td><td>&#9;call _wait_bit_high</td></tr>
<tr class="r0"><td class="c">9FA5</td><td>1D</td><td>&#9;dec e</td></tr>
<tr class="r1"><td class="c">9FA6</td><td>20&nbsp;F1</td><td>&#9;jr nz, _get_byte_loop</td></tr>
<tr class="r0"><td class="c">9FA8</td><td>CD&nbsp;BF&nbsp;9F</td><td>&#9;call _wait_bit_low</td></tr>
<tr class="r1"><td class="c">9FAB</td><td>CD&nbsp;D0&nbsp;9F</td><td>&#9;call _wait_bit_high</td></tr>
<tr class="r0"><td class="c">9FAE</td><td>CD&nbsp;BF&nbsp;9F</td><td>&#9;call _wait_bit_low</td></tr>
<tr class="r1"><td class="c">9FB1</td><td>CD&nbsp;D0&nbsp;9F</td><td>&#9;call _wait_bit_high</td></tr>
<tr class="r0"><td class="c">9FB4</td><td>AF</td><td>&#9;xor a</td></tr>
<tr class="r1"><td class="c">9FB5</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r0"><td class="c">9FB7</td><td>79</td><td>&#9;ld a,c</td></tr>
<tr class="r1"><td class="c">9FB8</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">AT_Protocol._get_byte_fail</td></tr>
<tr class="r0"><td class="c">9FB9</td><td>AF</td><td>&#9;xor a</td></tr>
<tr class="r1"><td class="c">9FBA</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r0"><td class="c">9FBC</td><td>F6&nbsp;01</td><td>&#9;or 1</td></tr>
<tr class="r1"><td class="c">9FBE</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">AT_Protocol._wait_bit_low</td></tr>
<tr class="r0"><td class="c">9FBF</td><td>DB&nbsp;00</td><td>&#9;in a,(bport)</td></tr>
<tr class="r1"><td class="c">9FC1</td><td>E6&nbsp;01</td><td>&#9;and 1</td></tr>
<tr class="r0"><td class="c">9FC3</td><td>C8</td><td>&#9;ret z</td></tr>
<tr class="r1"><td class="c">9FC4</td><td>06&nbsp;FF</td><td>&#9;ld b,at_timeout</td></tr>
<tr><td class="l" colspan="4">AT_Protocol._wait_bit_low_loop</td></tr>
<tr class="r0"><td class="c">9FC6</td><td>DB&nbsp;00</td><td>&#9;in a,(bport)</td></tr>
<tr class="r1"><td class="c">9FC8</td><td>E6&nbsp;01</td><td>&#9;and 1</td></tr>
<tr class="r0"><td class="c">9FCA</td><td>C8</td><td>&#9;ret z</td></tr>
<tr class="r1"><td class="c">9FCB</td><td>10&nbsp;F9</td><td>&#9;djnz _wait_bit_low_loop</td></tr>
<tr class="r0"><td class="c">9FCD</td><td>C1</td><td>&#9;pop bc</td></tr>
<tr class="r1"><td class="c">9FCE</td><td>18&nbsp;E9</td><td>&#9;jr _get_byte_fail</td></tr>
<tr><td class="l" colspan="4">AT_Protocol._wait_bit_high</td></tr>
<tr class="r0"><td class="c">9FD0</td><td>DB&nbsp;00</td><td>&#9;in a,(bport)</td></tr>
<tr class="r1"><td class="c">9FD2</td><td>E6&nbsp;01</td><td>&#9;and 1</td></tr>
<tr class="r0"><td class="c">9FD4</td><td>C0</td><td>&#9;ret nz</td></tr>
<tr class="r1"><td class="c">9FD5</td><td>06&nbsp;FF</td><td>&#9;ld b,at_timeout</td></tr>
<tr><td class="l" colspan="4">AT_Protocol._wait_bit_high_loop</td></tr>
<tr class="r0"><td class="c">9FD7</td><td>DB&nbsp;00</td><td>&#9;in a,(bport)</td></tr>
<tr class="r1"><td class="c">9FD9</td><td>E6&nbsp;01</td><td>&#9;and 1</td></tr>
<tr class="r0"><td class="c">9FDB</td><td>C0</td><td>&#9;ret nz</td></tr>
<tr class="r1"><td class="c">9FDC</td><td>10&nbsp;F9</td><td>&#9;djnz _wait_bit_high_loop</td></tr>
<tr class="r0"><td class="c">9FDE</td><td>C1</td><td>&#9;pop bc</td></tr>
<tr class="r1"><td class="c">9FDF</td><td>18&nbsp;D8</td><td>&#9;jr _get_byte_fail</td></tr>
<tr><td class="l" colspan="4">at_send_byte</td></tr>
<tr class="r0"><td class="c">9FE1</td><td>F3</td><td>&#9;di</td></tr>
<tr class="r1"><td class="c">9FE2</td><td>EE&nbsp;FF</td><td>&#9;xor $FF</td></tr>
<tr class="r0"><td class="c">9FE4</td><td>4F</td><td>&#9;ld c,a</td></tr>
<tr class="r1"><td class="c">9FE5</td><td>3E&nbsp;01</td><td>&#9;ld a,1</td></tr>
<tr class="r0"><td class="c">9FE7</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r1"><td class="c">9FE9</td><td>00</td><td>&#9;nop</td></tr>
<tr class="r0"><td class="c">9FEA</td><td>3E&nbsp;03</td><td>&#9;ld a,3</td></tr>
<tr class="r1"><td class="c">9FEC</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r0"><td class="c">9FEE</td><td>3E&nbsp;02</td><td>&#9;ld a,2</td></tr>
<tr class="r1"><td class="c">9FF0</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r0"><td class="c">9FF2</td><td>1E&nbsp;08</td><td>&#9;ld e,8</td></tr>
<tr class="r1"><td class="c">9FF4</td><td>16&nbsp;00</td><td>&#9;ld d,0&#9;</td></tr>
<tr><td class="l" colspan="4">AT_Protocol._send_byte_loop</td></tr>
<tr class="r0"><td class="c">9FF6</td><td>CD&nbsp;BF&nbsp;9F</td><td>&#9;call _wait_bit_low</td></tr>
<tr class="r1"><td class="c">9FF9</td><td>79</td><td>&#9;ld a,c</td></tr>
<tr class="r0"><td class="c">9FFA</td><td>E6&nbsp;01</td><td>&#9;and 1</td></tr>
<tr class="r1"><td class="c">9FFC</td><td>82</td><td>&#9;add a,d</td></tr>
<tr class="r0"><td class="c">9FFD</td><td>57</td><td>&#9;ld d,a</td></tr>
<tr class="r1"><td class="c">9FFE</td><td>79</td><td>&#9;ld a,c</td></tr>
<tr class="r0"><td class="c">9FFF</td><td>E6&nbsp;01</td><td>&#9;and 1</td></tr>
<tr class="r1"><td class="c">A001</td><td>87</td><td>&#9;add a,a</td></tr>
<tr class="r0"><td class="c">A002</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r1"><td class="c">A004</td><td>CD&nbsp;D0&nbsp;9F</td><td>&#9;call _wait_bit_high</td></tr>
<tr class="r0"><td class="c">A007</td><td>CB&nbsp;39</td><td>&#9;srl c</td></tr>
<tr class="r1"><td class="c">A009</td><td>1D</td><td>&#9;dec e</td></tr>
<tr class="r0"><td class="c">A00A</td><td>20&nbsp;EA</td><td>&#9;jr nz,_send_byte_loop</td></tr>
<tr class="r1"><td class="c">A00C</td><td>CD&nbsp;BF&nbsp;9F</td><td>&#9;call _wait_bit_low</td></tr>
<tr class="r0"><td class="c">A00F</td><td>7A</td><td>&#9;ld a,d</td></tr>
<tr class="r1"><td class="c">A010</td><td>E6&nbsp;01</td><td>&#9;and 1</td></tr>
<tr class="r0"><td class="c">A012</td><td>87</td><td>&#9;add a,a</td></tr>
<tr class="r1"><td class="c">A013</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r0"><td class="c">A015</td><td>CD&nbsp;D0&nbsp;9F</td><td>&#9;call _wait_bit_high</td></tr>
<tr class="r1"><td class="c">A018</td><td>CD&nbsp;BF&nbsp;9F</td><td>&#9;call _wait_bit_low</td></tr>
<tr class="r0"><td class="c">A01B</td><td>AF</td><td>&#9;xor a</td></tr>
<tr class="r1"><td class="c">A01C</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r0"><td class="c">A01E</td><td>CD&nbsp;D0&nbsp;9F</td><td>&#9;call _wait_bit_high</td></tr>
<tr class="r1"><td class="c">A021</td><td>CD&nbsp;BF&nbsp;9F</td><td>&#9;call _wait_bit_low</td></tr>
<tr class="r0"><td class="c">A024</td><td>3E&nbsp;02</td><td>&#9;ld a,2</td></tr>
<tr class="r1"><td class="c">A026</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r0"><td class="c">A028</td><td>CD&nbsp;D0&nbsp;9F</td><td>&#9;call _wait_bit_high</td></tr>
<tr class="r1"><td class="c">A02B</td><td>AF</td><td>&#9;xor a</td></tr>
<tr class="r0"><td class="c">A02C</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r1"><td class="c">A02E</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="f" colspan="4">D:\Documents\Documents\Visual Studio 2005\Projects\!Old\Brass\Brass\bin\Test\Keyboard.asm</td></tr>
<tr><td class="l" colspan="4">keyb_update</td></tr>
<tr class="r0"><td class="c">A02F</td><td>21&nbsp;7F&nbsp;A0</td><td>&#9;ld hl,_ignore_status</td></tr>
<tr class="r1"><td class="c">A032</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;ld a,(keyb_status)</td></tr>
<tr class="r0"><td class="c">A035</td><td>E6&nbsp;07</td><td>&#9;and %00000111</td></tr>
<tr class="r1"><td class="c">A037</td><td>47</td><td>&#9;ld b,a</td></tr>
<tr class="r0"><td class="c">A038</td><td>3A&nbsp;80&nbsp;A1</td><td>&#9;ld a,(_keyb_old_status)</td></tr>
<tr class="r1"><td class="c">A03B</td><td>E6&nbsp;07</td><td>&#9;and %00000111</td></tr>
<tr class="r0"><td class="c">A03D</td><td>B8</td><td>&#9;cp b</td></tr>
<tr class="r1"><td class="c">A03E</td><td>28&nbsp;03</td><td>&#9;jr z,_no_status_change</td></tr>
<tr class="r0"><td class="c">A040</td><td>21&nbsp;64&nbsp;A0</td><td>&#9;ld hl,_set_status</td></tr>
<tr><td class="l" colspan="4">Keyboard._no_status_change</td></tr>
<tr class="r1"><td class="c">A043</td><td>22&nbsp;5E&nbsp;A0</td><td>&#9;ld (_status_changer+1),hl</td></tr>
<tr class="r0"><td class="c">A046</td><td>21&nbsp;EC&nbsp;86</td><td>&#9;ld hl,_buffer&#9;&#9;</td></tr>
<tr class="r1"><td class="c">A049</td><td>AF</td><td>&#9;xor a&#9;&#9;&#9;</td></tr>
<tr class="r0"><td class="c">A04A</td><td>77</td><td>&#9;ld (hl),a&#9;&#9;</td></tr>
<tr class="r1"><td class="c">A04B</td><td>11&nbsp;ED&nbsp;86</td><td>&#9;ld de,_buffer+1&#9;</td></tr>
<tr class="r0"><td class="c">A04E</td><td>01&nbsp;0F&nbsp;00</td><td>&#9;ld bc,_buffer_size-1</td></tr>
<tr class="r1"><td class="c">A051</td><td>ED&nbsp;B0</td><td>&#9;ldir&#9;&#9;&#9;</td></tr>
<tr class="r0"><td class="c">A053</td><td>21&nbsp;EC&nbsp;86</td><td>&#9;ld hl,_buffer</td></tr>
<tr class="r1"><td class="c">A056</td><td>06&nbsp;10</td><td>&#9;ld b,_buffer_size</td></tr>
<tr><td class="l" colspan="4">Keyboard._get_key_loop</td></tr>
<tr class="r0"><td class="c">A058</td><td>C5</td><td>&#9;push bc&#9;&#9;</td></tr>
<tr class="r1"><td class="c">A059</td><td>CD&nbsp;8B&nbsp;9F</td><td>&#9;call at_get_byte&#9;</td></tr>
<tr class="r0"><td class="c">A05C</td><td>C1</td><td>&#9;pop bc&#9;&#9;&#9;</td></tr>
<tr><td class="l" colspan="4">Keyboard._status_changer</td></tr>
<tr class="r1"><td class="c">A05D</td><td>C2&nbsp;64&nbsp;A0</td><td>&#9;jp nz,_set_status&#9;</td></tr>
<tr class="r0"><td class="c">A060</td><td>77</td><td>&#9;ld (hl),a&#9;&#9;</td></tr>
<tr class="r1"><td class="c">A061</td><td>23</td><td>&#9;inc hl&#9;&#9;&#9;</td></tr>
<tr class="r0"><td class="c">A062</td><td>10&nbsp;F4</td><td>&#9;djnz _get_key_loop</td></tr>
<tr><td class="l" colspan="4">Keyboard._set_status</td></tr>
<tr class="r1"><td class="c">A064</td><td>3E&nbsp;ED</td><td>&#9;ld a,at_cmd_status</td></tr>
<tr class="r0"><td class="c">A066</td><td>CD&nbsp;E1&nbsp;9F</td><td>&#9;call at_send_byte</td></tr>
<tr class="r1"><td class="c">A069</td><td>CD&nbsp;8B&nbsp;9F</td><td>&#9;call at_get_byte</td></tr>
<tr class="r0"><td class="c">A06C</td><td>FE&nbsp;FE</td><td>&#9;cp $FE</td></tr>
<tr class="r1"><td class="c">A06E</td><td>28&nbsp;F4</td><td>&#9;jr z,_set_status</td></tr>
<tr class="r0"><td class="c">A070</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;ld a,(keyb_status)</td></tr>
<tr class="r1"><td class="c">A073</td><td>E6&nbsp;07</td><td>&#9;and %00000111</td></tr>
<tr class="r0"><td class="c">A075</td><td>CD&nbsp;E1&nbsp;9F</td><td>&#9;call at_send_byte</td></tr>
<tr class="r1"><td class="c">A078</td><td>CD&nbsp;8B&nbsp;9F</td><td>&#9;call at_get_byte</td></tr>
<tr class="r0"><td class="c">A07B</td><td>FE&nbsp;FE</td><td>&#9;cp $FE</td></tr>
<tr class="r1"><td class="c">A07D</td><td>28&nbsp;E5</td><td>&#9;jr z,_set_status</td></tr>
<tr><td class="l" colspan="4">Keyboard._ignore_status</td></tr>
<tr class="r0"><td class="c">A07F</td><td>3E&nbsp;01</td><td>&#9;ld a,1</td></tr>
<tr class="r1"><td class="c">A081</td><td>D3&nbsp;00</td><td>&#9;out (bport),a</td></tr>
<tr class="r0"><td class="c">A083</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;ld a,(keyb_status)</td></tr>
<tr class="r1"><td class="c">A086</td><td>32&nbsp;80&nbsp;A1</td><td>&#9;ld (_keyb_old_status),a</td></tr>
<tr class="r0"><td class="c">A089</td><td>DD&nbsp;21&nbsp;EC&nbsp;86</td><td>&#9;ld ix,_buffer&#9;</td></tr>
<tr><td class="l" colspan="4">Keyboard._handle_next_scancode</td></tr>
<tr class="r1"><td class="c">A08D</td><td>21&nbsp;81&nbsp;A1</td><td>&#9;ld hl,_scancode_lut</td></tr>
<tr class="r0"><td class="c">A090</td><td>01&nbsp;57&nbsp;00</td><td>&#9;ld bc,_scancode_lut_end-_scancode_lut</td></tr>
<tr class="r1"><td class="c">A093</td><td>11&nbsp;0C&nbsp;A1</td><td>&#9;ld de,_key_down</td></tr>
<tr class="r0"><td class="c">A096</td><td>DD&nbsp;7E&nbsp;00</td><td>&#9;ld a,(ix+0)</td></tr>
<tr class="r1"><td class="c">A099</td><td>B7</td><td>&#9;or a</td></tr>
<tr class="r0"><td class="c">A09A</td><td>28&nbsp;34</td><td>&#9;jr z,_handled_all_keys</td></tr>
<tr class="r1"><td class="c">A09C</td><td>FE&nbsp;E0</td><td>&#9;cp at_scs_enhance&#9;&#9;</td></tr>
<tr class="r0"><td class="c">A09E</td><td>20&nbsp;0E</td><td>&#9;jr nz,_not_enhanced</td></tr>
<tr class="r1"><td class="c">A0A0</td><td>DD&nbsp;23</td><td>&#9;&#9;inc ix&#9;</td></tr>
<tr class="r0"><td class="c">A0A2</td><td>DD&nbsp;7E&nbsp;00</td><td>&#9;&#9;ld a,(ix+0)</td></tr>
<tr class="r1"><td class="c">A0A5</td><td>B7</td><td>&#9;&#9;or a</td></tr>
<tr class="r0"><td class="c">A0A6</td><td>28&nbsp;28</td><td>&#9;&#9;jr z,_handled_all_keys</td></tr>
<tr class="r1"><td class="c">A0A8</td><td>21&nbsp;D8&nbsp;A1</td><td>&#9;&#9;ld hl,_scancode_e_lut</td></tr>
<tr class="r0"><td class="c">A0AB</td><td>01&nbsp;15&nbsp;00</td><td>&#9;&#9;ld bc,_scancode_e_lut_end-_scancode_e_lut</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_enhanced</td></tr>
<tr class="r1"><td class="c">A0AE</td><td>FE&nbsp;F0</td><td>&#9;cp at_scs_keyup</td></tr>
<tr class="r0"><td class="c">A0B0</td><td>20&nbsp;0B</td><td>&#9;jr nz,_not_keyup</td></tr>
<tr class="r1"><td class="c">A0B2</td><td>DD&nbsp;23</td><td>&#9;&#9;inc ix</td></tr>
<tr class="r0"><td class="c">A0B4</td><td>DD&nbsp;7E&nbsp;00</td><td>&#9;&#9;ld a,(ix+0)</td></tr>
<tr class="r1"><td class="c">A0B7</td><td>B7</td><td>&#9;&#9;or a</td></tr>
<tr class="r0"><td class="c">A0B8</td><td>28&nbsp;16</td><td>&#9;&#9;jr z,_handled_all_keys</td></tr>
<tr class="r1"><td class="c">A0BA</td><td>11&nbsp;D1&nbsp;A0</td><td>&#9;&#9;ld de,_key_up</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_keyup</td></tr>
<tr class="r0"><td class="c">A0BD</td><td>DD&nbsp;23</td><td>&#9;inc ix</td></tr>
<tr class="r1"><td class="c">A0BF</td><td>ED&nbsp;B1</td><td>&#9;cpir&#9;</td></tr>
<tr class="r0"><td class="c">A0C1</td><td>20&nbsp;CA</td><td>&#9;jr nz,_handle_next_scancode&#9;</td></tr>
<tr class="r1"><td class="c">A0C3</td><td>D5</td><td>&#9;push de</td></tr>
<tr class="r0"><td class="c">A0C4</td><td>11&nbsp;7F&nbsp;5E</td><td>&#9;ld de,0-_scancode_lut</td></tr>
<tr class="r1"><td class="c">A0C7</td><td>19</td><td>&#9;add hl,de</td></tr>
<tr class="r0"><td class="c">A0C8</td><td>7D</td><td>&#9;ld a,l</td></tr>
<tr class="r1"><td class="c">A0C9</td><td>D1</td><td>&#9;pop de</td></tr>
<tr class="r0"><td class="c">A0CA</td><td>21&nbsp;8D&nbsp;A0</td><td>&#9;ld hl,_handle_next_scancode</td></tr>
<tr class="r1"><td class="c">A0CD</td><td>E5</td><td>&#9;push hl&#9;</td></tr>
<tr class="r0"><td class="c">A0CE</td><td>D5</td><td>&#9;push de</td></tr>
<tr class="r1"><td class="c">A0CF</td><td>C9</td><td>&#9;ret&#9;</td></tr>
<tr><td class="l" colspan="4">Keyboard._handled_all_keys</td></tr>
<tr><td class="l" colspan="4">Keyboard._null_handler</td></tr>
<tr class="r0"><td class="c">A0D0</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">Keyboard._key_up</td></tr>
<tr class="r1"><td class="c">A0D1</td><td>F5</td><td>&#9;push af</td></tr>
<tr class="r0"><td class="c">A0D2</td><td>FE&nbsp;45</td><td>&#9;cp em_sc_rshift</td></tr>
<tr class="r1"><td class="c">A0D4</td><td>28&nbsp;04</td><td>&#9;jr z,_is_shift_u</td></tr>
<tr class="r0"><td class="c">A0D6</td><td>FE&nbsp;39</td><td>&#9;cp em_sc_lshift</td></tr>
<tr class="r1"><td class="c">A0D8</td><td>20&nbsp;0A</td><td>&#9;jr nz,_not_shift_u</td></tr>
<tr><td class="l" colspan="4">Keyboard._is_shift_u</td></tr>
<tr class="r0"><td class="c">A0DA</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld a,(keyb_status)</td></tr>
<tr class="r1"><td class="c">A0DD</td><td>E6&nbsp;F7</td><td>&#9;&#9;and $FF-at_stat_shift</td></tr>
<tr class="r0"><td class="c">A0DF</td><td>32&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld (keyb_status),a</td></tr>
<tr class="r1"><td class="c">A0E2</td><td>18&nbsp;24</td><td>&#9;&#9;jr _done_key_up</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_shift_u</td></tr>
<tr class="r0"><td class="c">A0E4</td><td>FE&nbsp;5C</td><td>&#9;cp em_sce_rctrl</td></tr>
<tr class="r1"><td class="c">A0E6</td><td>28&nbsp;04</td><td>&#9;jr z,_is_ctrl_u</td></tr>
<tr class="r0"><td class="c">A0E8</td><td>FE&nbsp;46</td><td>&#9;cp em_sc_lctrl</td></tr>
<tr class="r1"><td class="c">A0EA</td><td>20&nbsp;0A</td><td>&#9;jr nz,_not_ctrl_u</td></tr>
<tr><td class="l" colspan="4">Keyboard._is_ctrl_u</td></tr>
<tr class="r0"><td class="c">A0EC</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld a,(keyb_status)</td></tr>
<tr class="r1"><td class="c">A0EF</td><td>E6&nbsp;DF</td><td>&#9;&#9;and $FF-at_stat_ctrl</td></tr>
<tr class="r0"><td class="c">A0F1</td><td>32&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld (keyb_status),a</td></tr>
<tr class="r1"><td class="c">A0F4</td><td>18&nbsp;12</td><td>&#9;&#9;jr _done_key_up</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_ctrl_u</td></tr>
<tr class="r0"><td class="c">A0F6</td><td>FE&nbsp;59</td><td>&#9;cp em_sce_altgr</td></tr>
<tr class="r1"><td class="c">A0F8</td><td>28&nbsp;04</td><td>&#9;jr z,_is_alt_u</td></tr>
<tr class="r0"><td class="c">A0FA</td><td>FE&nbsp;47</td><td>&#9;cp em_sc_alt</td></tr>
<tr class="r1"><td class="c">A0FC</td><td>20&nbsp;0A</td><td>&#9;jr nz,_not_alt_u</td></tr>
<tr><td class="l" colspan="4">Keyboard._is_alt_u</td></tr>
<tr class="r0"><td class="c">A0FE</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld a,(keyb_status)</td></tr>
<tr class="r1"><td class="c">A101</td><td>E6&nbsp;EF</td><td>&#9;&#9;and $FF-at_stat_alt</td></tr>
<tr class="r0"><td class="c">A103</td><td>32&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld (keyb_status),a</td></tr>
<tr class="r1"><td class="c">A106</td><td>18&nbsp;00</td><td>&#9;&#9;jr _done_key_up</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_alt_u</td></tr>
<tr><td class="l" colspan="4">Keyboard._done_key_up</td></tr>
<tr class="r0"><td class="c">A108</td><td>F1</td><td>&#9;pop af</td></tr>
<tr><td class="l" colspan="4">Keyboard._key_up_handler</td></tr>
<tr class="r1"><td class="c">A109</td><td>C3&nbsp;D0&nbsp;A0</td><td>&#9;jp _null_handler</td></tr>
<tr><td class="l" colspan="4">Keyboard._key_down</td></tr>
<tr class="r0"><td class="c">A10C</td><td>F5</td><td>&#9;push af</td></tr>
<tr class="r1"><td class="c">A10D</td><td>FE&nbsp;53</td><td>&#9;cp em_sc_nlock</td></tr>
<tr class="r0"><td class="c">A10F</td><td>20&nbsp;0A</td><td>&#9;jr nz,_not_nlock</td></tr>
<tr class="r1"><td class="c">A111</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld a,(keyb_status)</td></tr>
<tr class="r0"><td class="c">A114</td><td>EE&nbsp;02</td><td>&#9;&#9;xor at_stat_num</td></tr>
<tr class="r1"><td class="c">A116</td><td>32&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld (keyb_status),a</td></tr>
<tr class="r0"><td class="c">A119</td><td>18&nbsp;52</td><td>&#9;&#9;jr _done_key_down</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_nlock</td></tr>
<tr class="r1"><td class="c">A11B</td><td>FE&nbsp;2C</td><td>&#9;cp em_sc_caps</td></tr>
<tr class="r0"><td class="c">A11D</td><td>20&nbsp;0A</td><td>&#9;jr nz,_not_caps</td></tr>
<tr class="r1"><td class="c">A11F</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld a,(keyb_status)</td></tr>
<tr class="r0"><td class="c">A122</td><td>EE&nbsp;04</td><td>&#9;&#9;xor at_stat_caps</td></tr>
<tr class="r1"><td class="c">A124</td><td>32&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld (keyb_status),a</td></tr>
<tr class="r0"><td class="c">A127</td><td>18&nbsp;44</td><td>&#9;&#9;jr _done_key_down</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_caps</td></tr>
<tr class="r1"><td class="c">A129</td><td>FE&nbsp;0F</td><td>&#9;cp em_sc_scroll</td></tr>
<tr class="r0"><td class="c">A12B</td><td>20&nbsp;0A</td><td>&#9;jr nz,_not_scroll</td></tr>
<tr class="r1"><td class="c">A12D</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld a,(keyb_status)</td></tr>
<tr class="r0"><td class="c">A130</td><td>EE&nbsp;01</td><td>&#9;&#9;xor at_stat_scroll</td></tr>
<tr class="r1"><td class="c">A132</td><td>32&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld (keyb_status),a</td></tr>
<tr class="r0"><td class="c">A135</td><td>18&nbsp;36</td><td>&#9;&#9;jr _done_key_down</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_scroll</td></tr>
<tr class="r1"><td class="c">A137</td><td>FE&nbsp;45</td><td>&#9;cp em_sc_rshift</td></tr>
<tr class="r0"><td class="c">A139</td><td>28&nbsp;04</td><td>&#9;jr z,_is_shift_d</td></tr>
<tr class="r1"><td class="c">A13B</td><td>FE&nbsp;39</td><td>&#9;cp em_sc_lshift</td></tr>
<tr class="r0"><td class="c">A13D</td><td>20&nbsp;0A</td><td>&#9;jr nz,_not_shift_d</td></tr>
<tr><td class="l" colspan="4">Keyboard._is_shift_d</td></tr>
<tr class="r1"><td class="c">A13F</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld a,(keyb_status)</td></tr>
<tr class="r0"><td class="c">A142</td><td>F6&nbsp;08</td><td>&#9;&#9;or at_stat_shift</td></tr>
<tr class="r1"><td class="c">A144</td><td>32&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld (keyb_status),a</td></tr>
<tr class="r0"><td class="c">A147</td><td>18&nbsp;24</td><td>&#9;&#9;jr _done_key_down</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_shift_d</td></tr>
<tr class="r1"><td class="c">A149</td><td>FE&nbsp;5C</td><td>&#9;cp em_sce_rctrl</td></tr>
<tr class="r0"><td class="c">A14B</td><td>28&nbsp;04</td><td>&#9;jr z,_is_ctrl_d</td></tr>
<tr class="r1"><td class="c">A14D</td><td>FE&nbsp;46</td><td>&#9;cp em_sc_lctrl</td></tr>
<tr class="r0"><td class="c">A14F</td><td>20&nbsp;0A</td><td>&#9;jr nz,_not_ctrl_d</td></tr>
<tr><td class="l" colspan="4">Keyboard._is_ctrl_d</td></tr>
<tr class="r1"><td class="c">A151</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld a,(keyb_status)</td></tr>
<tr class="r0"><td class="c">A154</td><td>F6&nbsp;20</td><td>&#9;&#9;or at_stat_ctrl</td></tr>
<tr class="r1"><td class="c">A156</td><td>32&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld (keyb_status),a</td></tr>
<tr class="r0"><td class="c">A159</td><td>18&nbsp;12</td><td>&#9;&#9;jr _done_key_down</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_ctrl_d</td></tr>
<tr class="r1"><td class="c">A15B</td><td>FE&nbsp;59</td><td>&#9;cp em_sce_altgr</td></tr>
<tr class="r0"><td class="c">A15D</td><td>28&nbsp;04</td><td>&#9;jr z,_is_alt_d</td></tr>
<tr class="r1"><td class="c">A15F</td><td>FE&nbsp;47</td><td>&#9;cp em_sc_alt</td></tr>
<tr class="r0"><td class="c">A161</td><td>20&nbsp;0A</td><td>&#9;jr nz,_not_alt_d</td></tr>
<tr><td class="l" colspan="4">Keyboard._is_alt_d</td></tr>
<tr class="r1"><td class="c">A163</td><td>3A&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld a,(keyb_status)</td></tr>
<tr class="r0"><td class="c">A166</td><td>F6&nbsp;10</td><td>&#9;&#9;or at_stat_alt</td></tr>
<tr class="r1"><td class="c">A168</td><td>32&nbsp;7F&nbsp;A1</td><td>&#9;&#9;ld (keyb_status),a</td></tr>
<tr class="r0"><td class="c">A16B</td><td>18&nbsp;00</td><td>&#9;&#9;jr _done_key_down</td></tr>
<tr><td class="l" colspan="4">Keyboard._not_alt_d</td></tr>
<tr><td class="l" colspan="4">Keyboard._done_key_down</td></tr>
<tr class="r1"><td class="c">A16D</td><td>F1</td><td>&#9;pop af</td></tr>
<tr><td class="l" colspan="4">Keyboard._key_down_handler</td></tr>
<tr class="r0"><td class="c">A16E</td><td>C3&nbsp;D0&nbsp;A0</td><td>&#9;jp _null_handler</td></tr>
<tr><td class="l" colspan="4">keyb_reset_keydown</td></tr>
<tr class="r1"><td class="c">A171</td><td>21&nbsp;D0&nbsp;A0</td><td>&#9;ld hl,_null_handler</td></tr>
<tr><td class="l" colspan="4">keyb_set_keydown</td></tr>
<tr class="r0"><td class="c">A174</td><td>22&nbsp;6F&nbsp;A1</td><td>&#9;ld (_key_down_handler+1),hl</td></tr>
<tr class="r1"><td class="c">A177</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">keyb_reset_keyup</td></tr>
<tr class="r0"><td class="c">A178</td><td>21&nbsp;D0&nbsp;A0</td><td>&#9;ld hl,_null_handler</td></tr>
<tr><td class="l" colspan="4">keyb_set_keyup</td></tr>
<tr class="r1"><td class="c">A17B</td><td>22&nbsp;0A&nbsp;A1</td><td>&#9;ld (_key_up_handler+1),hl</td></tr>
<tr class="r0"><td class="c">A17E</td><td>C9</td><td>&#9;ret</td></tr>
<tr><td class="l" colspan="4">keyb_status</td></tr>
<tr class="r1"><td class="c">A17F</td><td>00</td><td>&#9;.db 0&#9;</td></tr>
<tr><td class="l" colspan="4">Keyboard._keyb_old_status</td></tr>
<tr class="r0"><td class="c">A180</td><td>00</td><td>&#9;.db 0&#9;</td></tr>
<tr><td class="l" colspan="4">Keyboard._scancode_lut</td></tr>
<tr class="r1"><td class="c">A181</td><td>76</td><td>.db at_sc_esc</td></tr>
<tr class="r0"><td class="c">A182</td><td>05</td><td>.db at_sc_f1</td></tr>
<tr class="r1"><td class="c">A183</td><td>06</td><td>.db at_sc_f2</td></tr>
<tr class="r0"><td class="c">A184</td><td>04</td><td>.db at_sc_f3</td></tr>
<tr class="r1"><td class="c">A185</td><td>0C</td><td>.db at_sc_f4</td></tr>
<tr class="r0"><td class="c">A186</td><td>03</td><td>.db at_sc_f5</td></tr>
<tr class="r1"><td class="c">A187</td><td>0B</td><td>.db at_sc_f6</td></tr>
<tr class="r0"><td class="c">A188</td><td>83</td><td>.db at_sc_f7</td></tr>
<tr class="r1"><td class="c">A189</td><td>0A</td><td>.db at_sc_f8</td></tr>
<tr class="r0"><td class="c">A18A</td><td>01</td><td>.db at_sc_f9</td></tr>
<tr class="r1"><td class="c">A18B</td><td>09</td><td>.db at_sc_f10</td></tr>
<tr class="r0"><td class="c">A18C</td><td>78</td><td>.db at_sc_f11</td></tr>
<tr class="r1"><td class="c">A18D</td><td>07</td><td>.db at_sc_f12</td></tr>
<tr class="r0"><td class="c">A18E</td><td>84</td><td>.db at_sc_sysrq</td></tr>
<tr class="r1"><td class="c">A18F</td><td>7E</td><td>.db at_sc_scroll</td></tr>
<tr class="r0"><td class="c">A190</td><td>0E</td><td>.db at_sc_btick</td></tr>
<tr class="r1"><td class="c">A191</td><td>16</td><td>.db at_sc_1</td></tr>
<tr class="r0"><td class="c">A192</td><td>1E</td><td>.db at_sc_2</td></tr>
<tr class="r1"><td class="c">A193</td><td>26</td><td>.db at_sc_3</td></tr>
<tr class="r0"><td class="c">A194</td><td>25</td><td>.db at_sc_4</td></tr>
<tr class="r1"><td class="c">A195</td><td>2E</td><td>.db at_sc_5</td></tr>
<tr class="r0"><td class="c">A196</td><td>36</td><td>.db at_sc_6</td></tr>
<tr class="r1"><td class="c">A197</td><td>3D</td><td>.db at_sc_7</td></tr>
<tr class="r0"><td class="c">A198</td><td>3E</td><td>.db at_sc_8</td></tr>
<tr class="r1"><td class="c">A199</td><td>46</td><td>.db at_sc_9</td></tr>
<tr class="r0"><td class="c">A19A</td><td>45</td><td>.db at_sc_0</td></tr>
<tr class="r1"><td class="c">A19B</td><td>4E</td><td>.db at_sc_minus</td></tr>
<tr class="r0"><td class="c">A19C</td><td>55</td><td>.db at_sc_equals</td></tr>
<tr class="r1"><td class="c">A19D</td><td>66</td><td>.db at_sc_backsp</td></tr>
<tr class="r0"><td class="c">A19E</td><td>0D</td><td>.db at_sc_tab</td></tr>
<tr class="r1"><td class="c">A19F</td><td>15</td><td>.db at_sc_q</td></tr>
<tr class="r0"><td class="c">A1A0</td><td>1D</td><td>.db at_sc_w</td></tr>
<tr class="r1"><td class="c">A1A1</td><td>24</td><td>.db at_sc_e</td></tr>
<tr class="r0"><td class="c">A1A2</td><td>2D</td><td>.db at_sc_r</td></tr>
<tr class="r1"><td class="c">A1A3</td><td>2C</td><td>.db at_sc_t</td></tr>
<tr class="r0"><td class="c">A1A4</td><td>35</td><td>.db at_sc_y</td></tr>
<tr class="r1"><td class="c">A1A5</td><td>3C</td><td>.db at_sc_u</td></tr>
<tr class="r0"><td class="c">A1A6</td><td>43</td><td>.db at_sc_i</td></tr>
<tr class="r1"><td class="c">A1A7</td><td>44</td><td>.db at_sc_o</td></tr>
<tr class="r0"><td class="c">A1A8</td><td>4D</td><td>.db at_sc_p</td></tr>
<tr class="r1"><td class="c">A1A9</td><td>54</td><td>.db at_sc_lbrack</td></tr>
<tr class="r0"><td class="c">A1AA</td><td>5B</td><td>.db at_sc_rbrack</td></tr>
<tr class="r1"><td class="c">A1AB</td><td>5A</td><td>.db at_sc_enter</td></tr>
<tr class="r0"><td class="c">A1AC</td><td>58</td><td>.db at_sc_caps</td></tr>
<tr class="r1"><td class="c">A1AD</td><td>1C</td><td>.db at_sc_a</td></tr>
<tr class="r0"><td class="c">A1AE</td><td>1B</td><td>.db at_sc_s</td></tr>
<tr class="r1"><td class="c">A1AF</td><td>23</td><td>.db at_sc_d</td></tr>
<tr class="r0"><td class="c">A1B0</td><td>2B</td><td>.db at_sc_f</td></tr>
<tr class="r1"><td class="c">A1B1</td><td>34</td><td>.db at_sc_g</td></tr>
<tr class="r0"><td class="c">A1B2</td><td>33</td><td>.db at_sc_h</td></tr>
<tr class="r1"><td class="c">A1B3</td><td>3B</td><td>.db at_sc_j</td></tr>
<tr class="r0"><td class="c">A1B4</td><td>42</td><td>.db at_sc_k</td></tr>
<tr class="r1"><td class="c">A1B5</td><td>4B</td><td>.db at_sc_l</td></tr>
<tr class="r0"><td class="c">A1B6</td><td>4C</td><td>.db at_sc_colon</td></tr>
<tr class="r1"><td class="c">A1B7</td><td>52</td><td>.db at_sc_apos</td></tr>
<tr class="r0"><td class="c">A1B8</td><td>5D</td><td>.db at_sc_hash</td></tr>
<tr class="r1"><td class="c">A1B9</td><td>12</td><td>.db at_sc_lshift</td></tr>
<tr class="r0"><td class="c">A1BA</td><td>61</td><td>.db at_sc_bslash</td></tr>
<tr class="r1"><td class="c">A1BB</td><td>1A</td><td>.db at_sc_z</td></tr>
<tr class="r0"><td class="c">A1BC</td><td>22</td><td>.db at_sc_x</td></tr>
<tr class="r1"><td class="c">A1BD</td><td>21</td><td>.db at_sc_c</td></tr>
<tr class="r0"><td class="c">A1BE</td><td>2A</td><td>.db at_sc_v</td></tr>
<tr class="r1"><td class="c">A1BF</td><td>32</td><td>.db at_sc_b</td></tr>
<tr class="r0"><td class="c">A1C0</td><td>31</td><td>.db at_sc_n</td></tr>
<tr class="r1"><td class="c">A1C1</td><td>3A</td><td>.db at_sc_m</td></tr>
<tr class="r0"><td class="c">A1C2</td><td>41</td><td>.db at_sc_comma</td></tr>
<tr class="r1"><td class="c">A1C3</td><td>49</td><td>.db at_sc_fullstop</td></tr>
<tr class="r0"><td class="c">A1C4</td><td>4A</td><td>.db at_sc_fslash</td></tr>
<tr class="r1"><td class="c">A1C5</td><td>59</td><td>.db at_sc_rshift</td></tr>
<tr class="r0"><td class="c">A1C6</td><td>14</td><td>.db at_sc_lcrtl</td></tr>
<tr class="r1"><td class="c">A1C7</td><td>11</td><td>.db at_sc_alt</td></tr>
<tr class="r0"><td class="c">A1C8</td><td>29</td><td>.db at_sc_space</td></tr>
<tr class="r1"><td class="c">A1C9</td><td>70</td><td>.db at_sc_n0</td></tr>
<tr class="r0"><td class="c">A1CA</td><td>69</td><td>.db at_sc_n1</td></tr>
<tr class="r1"><td class="c">A1CB</td><td>72</td><td>.db at_sc_n2</td></tr>
<tr class="r0"><td class="c">A1CC</td><td>7A</td><td>.db at_sc_n3</td></tr>
<tr class="r1"><td class="c">A1CD</td><td>6B</td><td>.db at_sc_n4</td></tr>
<tr class="r0"><td class="c">A1CE</td><td>73</td><td>.db at_sc_n5</td></tr>
<tr class="r1"><td class="c">A1CF</td><td>74</td><td>.db at_sc_n6</td></tr>
<tr class="r0"><td class="c">A1D0</td><td>6C</td><td>.db at_sc_n7</td></tr>
<tr class="r1"><td class="c">A1D1</td><td>75</td><td>.db at_sc_n8</td></tr>
<tr class="r0"><td class="c">A1D2</td><td>7D</td><td>.db at_sc_n9</td></tr>
<tr class="r1"><td class="c">A1D3</td><td>77</td><td>.db at_sc_nlock</td></tr>
<tr class="r0"><td class="c">A1D4</td><td>7C</td><td>.db at_sc_nmul</td></tr>
<tr class="r1"><td class="c">A1D5</td><td>7B</td><td>.db at_sc_nsub</td></tr>
<tr class="r0"><td class="c">A1D6</td><td>79</td><td>.db at_sc_nadd</td></tr>
<tr class="r1"><td class="c">A1D7</td><td>71</td><td>.db at_sc_npoint</td></tr>
<tr><td class="l" colspan="4">Keyboard._scancode_lut_end</td></tr>
<tr><td class="l" colspan="4">Keyboard._scancode_e_lut</td></tr>
<tr class="r0"><td class="c">A1D8</td><td>1F</td><td>.db at_sce_lwin</td></tr>
<tr class="r1"><td class="c">A1D9</td><td>11</td><td>.db at_sce_altgr</td></tr>
<tr class="r0"><td class="c">A1DA</td><td>27</td><td>.db at_sce_rwin</td></tr>
<tr class="r1"><td class="c">A1DB</td><td>2F</td><td>.db at_sce_app</td></tr>
<tr class="r0"><td class="c">A1DC</td><td>14</td><td>.db at_sce_rctrl</td></tr>
<tr class="r1"><td class="c">A1DD</td><td>3F</td><td>.db at_sce_sleep</td></tr>
<tr class="r0"><td class="c">A1DE</td><td>5E</td><td>.db at_sce_wake</td></tr>
<tr class="r1"><td class="c">A1DF</td><td>37</td><td>.db at_sce_power</td></tr>
<tr class="r0"><td class="c">A1E0</td><td>7C</td><td>.db at_sce_printsc</td></tr>
<tr class="r1"><td class="c">A1E1</td><td>70</td><td>.db at_sce_insert</td></tr>
<tr class="r0"><td class="c">A1E2</td><td>71</td><td>.db at_sce_delete</td></tr>
<tr class="r1"><td class="c">A1E3</td><td>6C</td><td>.db at_sce_home</td></tr>
<tr class="r0"><td class="c">A1E4</td><td>69</td><td>.db at_sce_end</td></tr>
<tr class="r1"><td class="c">A1E5</td><td>7D</td><td>.db at_sce_pageup</td></tr>
<tr class="r0"><td class="c">A1E6</td><td>7A</td><td>.db at_sce_pagedown</td></tr>
<tr class="r1"><td class="c">A1E7</td><td>75</td><td>.db at_sce_up</td></tr>
<tr class="r0"><td class="c">A1E8</td><td>6B</td><td>.db at_sce_left</td></tr>
<tr class="r1"><td class="c">A1E9</td><td>72</td><td>.db at_sce_down</td></tr>
<tr class="r0"><td class="c">A1EA</td><td>74</td><td>.db at_sce_right</td></tr>
<tr class="r1"><td class="c">A1EB</td><td>4A</td><td>.db at_sce_ndiv</td></tr>
<tr class="r0"><td class="c">A1EC</td><td>5A</td><td>.db at_sce_nenter</td></tr>
</table>
</body></html>
